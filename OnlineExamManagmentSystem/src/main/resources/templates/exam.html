<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Random Exam</title>
    <script>
        function submitAnswers() {
            var answers = {};
            var questions = document.querySelectorAll('.question');
            questions.forEach(function(question, index) {
                var selectedOption = question.querySelector('input[type="radio"]:checked');
                if (selectedOption) {
                    answers[index] = selectedOption.value;
                }
            });
            console.log('Selected answers:', answers);
        }
    </script>
</head>
<body>
    <h1>Exam</h1>
    <form id="examForm">
        <ol>
            <th:block th:each="question, iterStat : ${questions}">
                <li class="question">
                    <p th:text="${question.questionText}"></p>
                    <ul>
                        <th:block th:each="option : ${question.options}">
                            <li>
                                <input type="radio" th:name="${'question' + iterStat.index}" th:value="${option.key}" />
                                <span th:text="${option.key + '. ' + option.value}"></span>
                            </li>
                        </th:block>
                    </ul>
                </li>
            </th:block>
        </ol>
        <button type="button" onclick="submitAnswers()">Submit</button>
    </form>
</body>
</html>
