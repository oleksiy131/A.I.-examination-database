<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Take Exam - [[${exam.examName}]]</title>
</head>
<body>
    <h1>[[${exam.examName}]]</h1>
    <form th:action="@{/exam/submit/{id}(id=${exam.id})}" method="post">
        <!-- Loop through exam questions and display them with answer options as radio buttons -->
        <div th:each="question, iterStat : ${exam.questions}">
            <div th:if="${iterStat.index eq 0}">
                <h2>Question [[${iterStat.index + 1}]]</h2>
            </div>
            <div th:if="${iterStat.index > 0}">
                <h2>Next Question</h2>
            </div>
            <p th:text="${question.questionText}"></p>
            <label>Options:</label>
            <!-- Display answer options as radio buttons with dynamic attribute names -->
<label><input type="radio" th:name="'answer_' + ${question.id}" th:value="A" /> A. [[${question.optionA}]]</label>
<label><input type="radio" th:name="'answer_' + ${question.id}" th:value="B" /> B. [[${question.optionB}]]</label>
<label><input type="radio" th:name="'answer_' + ${question.id}" th:value="C" /> C. [[${question.optionC}]]</label>
<label><input type="radio" th:name="'answer_' + ${question.id}" th:value="D" /> D. [[${question.optionD}]]</label>

            <!-- Store the question ID as a hidden input -->
            <input type="hidden" th:name="questionIds" th:value="${question.id}" />
        </div>
        <input type="submit" value="Submit" />
    </form>
</body>
</html>
